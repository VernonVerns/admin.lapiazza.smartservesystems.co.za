<!DOCTYPE html>
<html>
<head>
	<title>SmartServe | Admin</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../css/w3.css">
    <link rel="stylesheet" type="text/css" href="../css/animate.css">
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../css/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/dialog.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
    <script type="text/javascript" src="../js/bootstrap.min.js"></script>
</head>
<body>
	<div id="ss_nav">
        <nav class="navbar navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <div class="navbar-brand"><a>SmartServe</a></div>
                </div>

                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <div>
                            <button  id="signed_user" class="btn navbar-btn" type="button"></button>
                        </div>
                    </li> 
                    <li>
                        <a href="login.html"><i class="fa fa-power-off"></i></a>
                    </li> 
                </ul>
            </div>
        </nav>
    </div>

    <section id="ss_admin_menu">
		<nav class="main-menu">
            <ul>
                <li>
                    <a class="active-bg">
                        <i class="fa fa-home fa-2x"></i>
                        <span class="nav-text">
                            Menu
                        </span>
                        <span class="w3-right" style="background-color: #336699; width: 40px; cursor: pointer;" id="add_category"><i class="fa fa-plus"></i></span>
                    </a>
                    <ul id="main_categories">
                    	<!-- Loading categories here -->
                    </ul>
                </li>
            </ul>

            <ul class="logout">
                <li>
                   <a href="../index.html">
                         <i class="fa fa-arrow-left fa-2x"></i>
                        <span class="nav-text">
                            Back
                        </span>
                    </a>
                </li>  
            </ul>
        </nav>

        <div class="content">
        	<div class="header">
        		Menu / <span id="main_name">Ice Breakers </span>/ <span id="sub_name">Starters</span>
        		<a href="#addItemPopup" class="w3-right" id="add_item_menu">Add Item</a>
        	</div>

        	<div class="menu-items" id="menuItems">
        		<!-- Loading menu items here -->
        	</div>
        </div>
        
        <!-- This button is foe adding items and it only displays on mobile -->
        <div class="mobile-add-btn w3-hide-large w3-hide-medium">
            <a href="#addItemPopup" class="w3-right" id="add_item_menu" ><i class="fa fa-plus fa-2x"></i></a>
        </div>

        <div class="all-popups">
	    	<div class="popup" id="addItemPopup">
				<div class="popup-inner">
					<form method="POST" action="#">
						<div class="item-category">
							<span class="current-cate">Menu / <span id="new_cat_name">Ice Breakers / Starters</span></span>
							<div class="dropdowns w3-right">
								<div class="menu-op">
									<div class="menuitem" id="demo1">
										<a>Change Category</a>
										<div class="menu-op" id="popup_categories">
											<!-- Loading categories in popup -->
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="item-details w3-row">
							<div class="row">
								<div class="col-sm-6">
									<input id="item_name" type="text" name="itemName" placeholder="Item Name">
								</div>
								<div class="col-sm-6">
									<input type="text" name="currency-field" id="currency-field" pattern="^\R\d{1,3}(,\d{3})*(\.\d+)?$" value="" data-type="currency" placeholder="R1,000,000.00">
								</div>
							</div>
                            <div class="row">
                                <div class="col-sm-6"style="overflow-y: auto; max-height: 200px">
                                    <div id="add_extra" class="extras w3-center">
                                        <button type="button" name="button" id="viewAddExtra">Click to Add Extras</button>
                                    </div>
                                    <ul class="list-unstyled" id="extras_list">
                                        <!-- Extra items -->
                                    </ul>
                                </div>
                                <div class="col-sm-6" style="overflow-y: auto; max-height: 200px">
                                    <div id="add_sause" class="sauces w3-center">
                                        <button type="button" name="button" onclick="newinput2()">Click to Add Sauces</button>
                                    </div>
                                </div>
                            </div>
							<textarea id="description" name="itemDescription" style="margin-top: 10px;" placeholder="Item Description"></textarea>
						</div>
						<button type="button" id="submitItem" class="add-item-btn w3-right">Save</button>
					</form>
					<a class="popup-close" href="">X</a>
				</div>
			</div>

            <div id="addExtraModal" class="modal">
                <div class="modal-content" style="position: relative;">
                    <span id="closeAddExtras" class="close">&times;</span>
                    <h3 class="w3-center" style="margin: 0">Add Extra</h3>
                    <div class="add-extra">
                        <h4 class="w3-center" style="color: #008000; display: none;" id="extar_success">Extra Succesfully Added</h4>
                        <div class="row" style="margin-top: 20px; margin-bottom: 20px">
                            <div class="col-sm-7">
                                <input type="text" class="form-control" placeholder="Extra Name" id="extra_name">
                            </div>
                            <div class="col-sm-5">
                                <input type="number" class="form-control" placeholder="Extra Price" id="extra_price">
                            </div>
                        </div>
                        <div class="w3-center">
                            <button type="button" style="background-color: #369; padding: 0.5em 1em; border: none; color: #fff"
                            id="add_extra_btn">Add Extra</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ==========================================================
                                Adding a category modal 
            ========================================================== -->
            <div id="ss_addCategory" class="modal">
                <div class="modal-content">
                    <span id="close_category" class="close">&times;</span>
                    <form method="POST" action="#">
                        <div class="w3-row">
                            <div class="file-upload">
                                <button class="file-upload-btn w3-center" type="button" onclick="$('.file-upload-input').trigger( 'click' )">Add Image</button>
                              
                                <div class="image-upload-wrap">
                                    <input class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" />
                                </div>
                                <div class="file-upload-content">
                                    <img class="file-upload-image" src="#" alt="your image" />
                                    <div class="image-title-wrap">
                                        <button type="button" onclick="removeUpload()" class="remove-image">Remove</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="w3-row">
                            <div class="w3-col" style="width:50%;">
                                <select name="category" id="categories_select">
                                    <!-- Loading Categories -->
                                </select>
                            </div>
                            <div class="w3-col" style="width:50%;">
                                <input type="text" name="newCategory" id="newCategory" placeholder="Write New Category">
                            </div>
                        </div>
                        <div id="editable_sub_categories" class="subcategories">
                            <div class="input-group">
                                <input id="email" type="text" class="form-control" name="email" placeholder="New Subcategory">
                                <span class="input-group-addon" ><i class="fa fa-plus"></i></span>
                            </div>
                        </div>

                        <div class="add-categ-btn-container w3-center">
                            <button type="button" name="submit" id="add_categ_btn">Done</button>
                        </div>
                    </form>
                </div>
            </div><!-- End Adding category modal -->


            <!-- ==========================================================
                                Adding Ingredients
            ========================================================== -->
            <div id="addIngredients" class="modal">
                <div class="modal-content">
                    <span id="closeIngredients" class="close">&times;</span>
                    <h3 id="ingred_popup_title" class="w3-center" style="margin: 0"> Ingredients</h3>
                    <div class="add-ingredient">
                        <div class="row" style="margin-bottom: 10px">
                            <div class="col-sm-4">
                                <select id="ingred_categories" class="form-control">
                                    <option selected disabled>- Select Category -</option>
                                </select>
                            </div>
                            <div class="col-sm-4">
                                <select name="units" class="form-control" id="ingredient_select">
                                    <option selected disabled>- Select Ingredient -</option>
                                </select>
                            </div>
                            <div class="col-sm-4">
                                <div class="input-group" style="width: 100%">
                                    <input id="ingred_qty" type="number" class="form-control" placeholder="Quantity" style="border-radius: 5px 0 0 5px">
                                    <span class="input-group-btn" style="width: 35%;">
                                        <select id="ingred_units" name="units" class="form-control" style="border-radius: 0 5px 5px 0">
                                        </select>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="add-ingred w3-center">
                            <button type="button" class="add-ingred-btn" id="btAddIngredient">Add Ingredient</button>
                        </div>
                    </div>

                    <div class="added-ingredients scroll">
                        <ul class="list-unstyled" id="ingredients_list">
                            <!-- Ingredients are added here -->
                        </ul>
                    </div>

                    <div class="footer">
                        <div class="footer-btns">
                            <button type="button" class="cancel">Cancel</button>
                            <button type="button" class="done-adding-ingred">Done</button>
                        </div>
                    </div>
                </div>
            </div>
	    </div>
    </section>

    <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-storage.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
    <script type="text/javascript" src="../js/bootstrap.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/js/swiper.min.js'></script>
    <script type="text/javascript" src="../js/main.js"></script>
    <script type="text/javascript" src="../js/dialog.js"></script>
    <script type="text/javascript" src="../js/functions.js"></script>
    <script type="text/javascript">
        var id = 0;
        var newinput2 = function() {
            var parent = document.getElementById("add_sause");
            var field = document.createElement("input");
            field.className = "myclassname";
            field.placeholder="Type Sause Name";
            field.style = "display:block;";
            field.id = "input" + id;
            parent.appendChild(field);
            id += 1;
        }

        function readURL(input) {
            if (input.files && input.files[0]) {

                var reader = new FileReader();

                reader.onload = function(e) {
                $('.image-upload-wrap').hide();

                $('.file-upload-image').attr('src', e.target.result);
                $('.file-upload-content').show();

                $('.image-title').html(input.files[0].name);
                };

                reader.readAsDataURL(input.files[0]);

            } else {
                removeUpload();
            }
        }

        function removeUpload() {
        $('.file-upload-input').replaceWith($('.file-upload-input').clone());
        $('.file-upload-content').hide();
        $('.image-upload-wrap').show();
        }
        $('.image-upload-wrap').bind('dragover', function () {
                $('.image-upload-wrap').addClass('image-dropping');
            });
            $('.image-upload-wrap').bind('dragleave', function () {
                $('.image-upload-wrap').removeClass('image-dropping');
        });
    </script>
</body>
</html>